/**
 * @name creditcard.js 2.1.3
 * @license MIT
 * @author ContaAzul <fernahh@gmail.com> (contaazul.com)
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.CreditCard=t()}(this,function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),r=[{name:"Elo",regexpFull:"^(401178|401179|431274|438935|451416|457393|457631|457632|504175|627780|636297|636368|(506699|5067[0-6]d|50677[0-8])|(50900d|5090[1-9]d|509[1-9]d{2})|65003[1-3]|(65003[5-9]|65004d|65005[0-1])|(65040[5-9]|6504[1-3]d)|(65048[5-9]|65049d|6505[0-2]d|65053[0-8])|(65054[1-9]|6505[5-8]d|65059[0-8])|(65070d|65071[0-8])|65072[0-7]|(65090[1-9]|65091d|650920)|(65165[2-9]|6516[6-7]d)|(65500d|65501d)|(65502[1-9]|6550[3-4]d|65505[0-8]))[0-9]{10,12}"},{name:"Diners",regexpFull:"^3(?:0[0-5]|[68][0-9])[0-9]{11}$"},{name:"Discover",regexpFull:"^6(?:011|5[0-9]{2}|4[4-9][0-9]{1}|(22(12[6-9]|1[3-9][0-9]|[2-8][0-9]{2}|9[01][0-9]|92[0-5]$)[0-9]{10}$))[0-9]{12}$"},{name:"Hipercard",regexpFull:"^(38[0-9]{17}|60[0-9]{14})$"},{name:"Amex",regexpFull:"^3[47][0-9]{13}$"},{name:"Aura",regexpFull:"^50[0-9]{14,17}$"},{name:"Mastercard",regexpFull:"^(5[1-5][0-9]{14}|2221[0-9]{12}|222[2-9][0-9]{12}|22[3-9][0-9]{13}|2[3-6][0-9]{14}|27[01][0-9]{13}|2720[0-9]{12})$"},{name:"Visa",regexpFull:"^4[0-9]{12}(?:[0-9]{3})?$"}],n=function(){function n(){e(this,n),this.list=r}return t(n,[{key:"retrieveCreditCardList",value:function(){return this.list}}]),n}(),i=function(){function r(){e(this,r),this.computed=[0,2,4,6,8,1,3,5,7,9]}return t(r,[{key:"_sum",value:function(e){for(var t=0,r=0,n=e.length,i=!0;n--;)r=Number(e[n]),t+=(i=!i)?this.computed[r]:r;return t}},{key:"isValid",value:function(e){var t=e;if(new RegExp("/[^0-9-s]+/").test(t))return!1;t=t.replace(/\D/g,"");var r=this._sum(t);return r>0&&r%10==0}}]),r}();return function(){function r(){e(this,r),this.creditcardlist=new n,this.luhn=new i}return t(r,[{key:"retrieveCreditCardList",value:function(){return this.creditcardlist.retrieveCreditCardList()}},{key:"isValid",value:function(e){return this.luhn.isValid(e)}},{key:"getCreditCardNameByNumber",value:function(e){for(var t=this.retrieveCreditCardList(),r=0;r<t.length;r++){var n=t[r];if(new RegExp(n.regexpFull).test(e))return n.name}return"Credit card is invalid!"}},{key:"isSecurityCodeValid",value:function(e,t){var r=this.getCreditCardNameByNumber(e);return new RegExp("^[0-9]{"+("Amex"===r?4:3)+"}$").test(t)}},{key:"isExpirationDateValid",value:function(e,t){var r=parseInt(e,10),n=parseInt(t,10),i=(new Date).getFullYear(),u=(new Date).getMonth()+1;return!isNaN(r)&&!isNaN(n)&&(!(n===i&&r<u)&&(!(r<1||r>12)&&!(n<1e3||n>=3e3)))}}]),r}()});
